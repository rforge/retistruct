Installation of the nmf_morph/retistruct program
================================================

1. Install the necessary system packages
========================================

1a. Fedora Linux 
----------------

As root,

yum install R-core
yum install R-devel
yum install gtk2
yum install gtk2-devel
yum install mesa-libGL-devel
yum install mesa-libGLU-devel
yum install subversion # Only required if getting code with svn

1b. Ubuntu Linux
----------------

At the command line, enter:

sudo apt-get install r-base-dev r-base-core r-cran-rgtk2 r-cran-cairodevice r-cran-rgl

2. Install the retistruct package
=================================

1. Start R, in a directory containing the install.R and
   retistruct_0.x.tar.gz files

2. Type:

   source("install.R")

   The first time this runs, it should create a personal directory for
   R packages, and it will take a few minutes to install some required
   packages.

3. Test that it works
=====================

To start the program, start R. At the R prompt type:

> library(retistruct)
> retistruct()

A window should appear.

Troubleshooting
===============

If you get an error like this:

  Error in asCairoDevice() : Graphics API version mismatch

in Ubuntu, then try the following at the command line:

1) At the bash prompt:
sudo apt-get install build-essential libgtk2.0-dev

2) At the R prompt:
install.packages("cairoDevice")

(See https://bugs.launchpad.net/ubuntu/+source/cairodevice/+bug/778804)

Advanced installation: Subversion access
========================================

To get the code via svn, in *theory* you should be able to do something like:

kinit daniel.nedergaard%kcl.ac.uk@FRIEND.ED.AC.UK
svn co https://coltex.inf.ed.ac.uk/reposraw/nmf_morph

Thereafter,

svn update in the tree should get the files.

The required files are in nmf_morph/trunk/
